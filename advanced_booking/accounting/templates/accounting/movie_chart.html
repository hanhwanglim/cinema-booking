{% extends 'accounting/base.html' %}

{% block content %}

</br>
</br>

<head>
    <title>Summary for {{ movie }}</title>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', { packages: ['corechart', 'bar'] });
        google.charts.setOnLoadCallback(drawDualY);

        function drawDualY() {
            var data = google.visualization.arrayToDataTable([
                ['Type', 'Sales'],
                ['CHILD', {{ n_child | safe }}],
                ['ADULT', {{ n_adult | safe }}],
                ['SENIOR', {{ n_senior | safe }}],
            ]);

        var options = {
            chart: {
                width: 1200,
                height: 800
            },

            vAxis: {
                title: 'Sales',
                minValue: 0
            },

            hAxis: {
                title: 'Type',
            }
        };

        var materialChart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        materialChart.draw(data, options);
      }
    </script>
</head>

<div class = "container">
    <div class = "row">
      <div class = "col-lg-12">
        <h1>{{ movie }}</h1>
        <!--Div that will hold the pie chart-->
        <div id="chart_div"></div>
        
    </div>
</div>
<h2>Total revenue for {{ movie }}: Â£{{ revenue }}</h2>
{% endblock %}